{#
/**
  * @file
  * Template for rendering 'reset password' form.
  *
  * Available variables:
  * - current_route: Name of current route.
  * - current_locale: Current language code.
  * - resetForm: FormBuilder instace for reset form.
  */
#}
{% extends 'base.html.twig' %}

{% block title %}{{ 'reset.reset_password'|trans }}{% endblock %}

{% block body %}
    <div class="form-group col-md-4 col-md-offset-4 col-sm-8 col-sm-offset-2">
        <h1 class="h3 login-box-msg">{{ 'reset.reset_password'|trans }}</h1>

        {{ form_start(resetForm) }}

        {% for label, messages in app.flashes(['password-reset-success', 'password-reset-error']) %}
            {% for message in messages %}
                <div class="alert alert-{{ 'error' in label ? 'danger' : 'success' }}">
                    {{ message|trans }}
                </div>
            {% endfor %}
        {% endfor %}

        <div class="form-group {{ form_errors(resetForm.username_or_email) ? 'has-error' : '' }}">
            {{ form_label(resetForm.username_or_email) }}
            {{ form_widget(resetForm.username_or_email) }}

            {% if form_errors(resetForm.username_or_email) %}
                <div class="invalid-feedback">
                    {{ form_errors(resetForm.username_or_email) }}
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <button class="btn btn-green btn-block btn-flat">{{ 'reset.reset_password'|trans }}</button>
        </div>

        {{ form_end(resetForm) }}
    </div>
{% endblock %}
